====== 接入指南 ======
官网：http://developer.baidu.com/wiki/index.php?title=docs/lightapp/standard


概述


以下过程旨在帮助您如何创建、接入、配置和提交轻应用。在此，您将了解到在百度开放云平台接入轻应用的关键信息和步骤。若想更好的享受轻应用的体验服务，您需要动动手，进行简单的几步操作，总流程图如下： 

liuchengtu.png 

使用百度开放云平台接入轻应用的具体步骤如下：
1. 注册百度账号，并成为百度开发者。。
2. #创建轻应用
3. #选择对接方式
4. #配置验证
5. #提交上线
6. #等待对接
7. #对接通过
8. #查看对接状态
创建轻应用


实现接入轻应用的第一步要创建属于您的轻应用，创建步骤如下： 

1. 打开百度轻应用平台 如下图，点击“马上开始”或“管理控制台—>轻应用管理”，进入管理控制台，创建您的轻应用。 

dev1.png 

2. 管理控制台有两类轻应用供您选择，点击“移动轻应用”，进入轻应用界面。车载轻应用详情请参见。 

yidong.png 

3. 填写轻应用的基本信息，名称和简介必填。按照规范填妥信息后，点击“确定”即可进入下一步。 

需要特别注意，基本信息影响推广效果，请务必认真填写。 

light-basic-info-(1).png 

名称（必填）：您接入的轻应用展现给用户的名字，包括搜索结果页、应用市场页。 
简介（必填）：您提交轻应用的描述信息，该信息有助于百度进行内容检索，也帮助用户理解您提交的轻应用。 
图标（完成前可暂时跳过）：您提交轻应用的图标，该图标在搜索结果或轻应用store以及桌面等显示的图标。设计参考：对接信息规范

选择对接方式


完成基本信息填写，需选择对接方式。目前，我们提供的对接方式有三类：应用直连、行业方案和轻工厂。这里我们以应用直连为例讲解，其它参见行业方案，轻工厂。 

lightapp-connect.png 

对接前的准备
直接对接：需准备以下材料即可简单接入 
一个属于您自己或您公司的Html5 Web App
如您的Html5 Web App接入百度轻应用后想提高搜索效果，请准备该Web App的Sitemap文件
如果您的Web应用需使用到手机端能力（比如调起语音、摄像头、定位、存储等），具体请参考
配置验证


完成对接方式选择，需进行“所有权验证”和“搜索对接”。

所有权验证

所有权验证步骤如下： 
configure(1).png 

1.复制上图中“第一步”下面的JavaScript代码到到自己开发的Html5 Web App首页的<head></header>标签之间； 
2.输入移动站点地址（Html5 Web App的首页URL）进行验证。 

完成上述两步操作可以

确保该Html5 Web App为当前开发者所有；
可以在当前Web App里调用百度轻应用平台提供的手机端能力API，提升您的Html5 Web App的功能和用户体验，API文档
可以让您在百度轻应用平台统计分析您的Html5 Web App的各种数据；

注：不同query或fragment的Html5 Web App首页URL将被视作不同的轻应用URL，如：
http://abc.com/test
http://abc.com/test?key=val
http://abc.com/test#abc

如果验证失败，可能有以下几种情况：

错误1：该URL已存在，不可重复对接
解决方案：此URL已被其他轻应用占用，请使用不同的URL作为轻应用首页地址。

错误2：验证失败
解决方案：出现该错误的原因有许多，开发者需要检查以下几个方面：
1. 验证代码是否未添加到<head></head>标签中；
2. 验证代码是否为前端Javascript代码动态插入而非页面原始代码；
3. 验证代码是否仅部署到了PC端页面而非移动端页面；
4. 验证代码是否不属于当前轻应用，请仔细对比当前轻应用配置页面上提供的验证代码（不同的轻应用对应不同的验证代码）；
5. 验证代码中的两段<script></script>标签是否顺序颠倒；
6. 验证代码之前是否存在<noscript></noscript>标签，请将验证代码放到<noscript></noscript>标签之前。
可借助自测工具帮助定位问题：http://rdtest.duapp.com/light/url/test
若排除上述问题仍无法通过验证或因其他原因无法正确添加验证代码，请提供：
当前应用验证代码；
轻应用APP_ID；
待验证轻应用首页URL；
其他相关信息或截图。

联系我们的客服：dev_support@baidu.com。

搜索对接

完成所有权验证，下面我们进行搜索对接，创建流程：选择轻应用分类-> 百度移动搜索对接-> Sitemap上传 。具体步骤如下： 

1.资源分类：选择轻应用类目，决定搜索结果页样式。例如选择“旅游”。 
目前提供的类目有：新闻、旅游、生活、工具、视频、书籍文档、音乐、游戏、自媒体、商品购物、健康保健、教育、招商理财、其他。 

2.百度移动搜索对接 
选择搜索页显示方式，以便用户在移动搜索中搜索到您的应用，让您的轻应用更加被用户使用和被检索。 
百度移动搜索对接分为按内容检索和按名称检索。 
按内容检索的配置：即设置搜索与轻应用内容相关的词时，搜索结果对应的展示样式。

例如：搜索“故宫门票”，搜索结果页显示的故宫门票的轻应用页面内容。 

neirong(1).png 

点击“XML实例”，查看效果和XML模板。 

03xml.png 

资源地址：复制您的资源地址，检查XML的正确性。
注意：XML文件的网络存储地址必须与轻应用URL的主域保持一致，且文件大小不得不超过9.5M。
如何提供资源地址： 
可以参考样式数据示例，拷贝XML代码，对应修改相关内容（只能替换或填充数据值，请不要随意修改节点），保存为xml文件格式，放置在您轻应用URL的主域名下，给出该文件对应地址链接进行验证是否正确。通过设置抓取周期，百度轻应用平台将根据您设置的周期抓取最新资源。 

抓取周期：XML抓取周期需根据您应用的更新频率进行设置，如新闻类可设置比较短的更新间隔，图书类更新间隔可设置较长。如您的轻应用XML描述信息无需更新，可以不设置抓取周期。 
设置抓取周期带来的好处： 
百度轻应用平台会根据您设置的周期时间去抓取资源，获取最新的信息，让您的用户可以在百度移动搜索里搜到最新内容。 
按名称搜索结果页样式：即按轻应用名称搜索（默认），在搜索结果页对应显示轻应用样式（包括应用Logo、简介）。

例如：搜索“百度旅游”，在搜索结果页显示百度旅行的轻应用样式； 

mingcheng1.png 

3.Sitemap上传 
Sitemap是什么：即是您轻应用网站上所有网页的列表。
上传sitemap有什么好处：
上传Sitemap有助于百度移动搜索引擎发现并抓取您网站上的所有网页，以便更加容易被用户检索搜索出来，提高曝光度，给您带来商机或收益检索。实例可以参考Sitemap示例 。 

sitemap1.png 

Sitemap地址上传：地址需要与轻应用URL的主域名一致 
是否必须：否（建议上传sitemap） 
检查失败情况：格式错误、地址不正确 

提交上线


完成对接方式选择，完善对接内容之后准备提交上线。
点击“提交”按钮，确认您所填写的轻应用信息是否正确，如您信息已填写完整，您可立即提交对接移动搜索，让您的应用和服务触手可及。
提交轻应用成功后，您可以在轻应用管理中管理和再次编辑您的应用信息。 

为了确保审核的顺利通过，建议提交前，仔细阅读移动轻应用接入规范，以便核对您提交的信息和内容是否符合规范。

等待对接


提交完成后，您需要等待我们工作人员的对接，如下图所示。 

shenhe.png 

对接分为两次：轻应用中心对接和移动搜索对接。 
轻应用中心对接从资源类型，资源资质，内容等基本信息进行对接，未通过常见原因详情参见轻应用中心对接常见问题 
移动搜索对接即是上搜索渠道的对接，未通过常见原因详情参见移动搜索对接常见问题

对接通过


如果您的内容和提交信息等符合移动轻应用接入规范，那么在约定的工作日即可对接通过，您可以在轻应用详情中查看状态信息如下。

chenggong.png

查看对接状态


从应用列表页面点击轻应用名称，可进入管理控制台，查看轻应用详情。 

注：提交之后，状态处于对接中，不能编辑信息，结果将在5个工作日内通过站内消息和邮件通知。 

duijiecg.png 

注：如没有提交，点击轻应用名称进入轻应用详情页（如下图），您可以更新和编辑应用内容重新提交。 

statinfo.png 

应用状态分为三种：未上线、已上线、已下线 
对接过程解释： 
首次对接：在轻应用状态首次变为已上线之前的对接过程称首次对接；
更新对接：首次对接成功之后，再更新轻应用数据发生的对接过程称为更新对接；

对接反馈方式： 
站内信方式，轻应用详情页，邮件

首次对接状态分为四种：未对接、对接中、对接失败、对接成功； 
更新对接状态分为四种：待更新、更新中、更新失败、更新成功。 
首次对接过程中轻应用中心对接成功的话，那么此时轻应用状态为：已上线，此时即可以在手机百度客户端的轻应用store里中找到您 提交的轻应用，之后会进行对接移动搜索。 
具体结果请关注控制台、站内信或邮件。 